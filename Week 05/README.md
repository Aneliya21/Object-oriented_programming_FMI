# Разделна компилация. Препроцесор. Композиция и агрегация. Копиращ конструктор и оператор=

## Разделна компилация.

![enter image description here](https://camo.githubusercontent.com/28dc183568fa5f05a944d8ec4f3033c8ee08e4c87b6c19ae051dc55ea7979f69/68747470733a2f2f692e6962622e636f2f664436584c4a4d2f436f6d70696c6174696f6e2e706e67)

Една програма на С++ може да бъде разбита в множество файлове, които се **компилират независимо един от друг**, т.е. осъществява се **разделна компилация**. В резултат на компилацията се получават няколко **обектни файла** (файлове с разширение **.obj**). Изпълнимият код напрограмата (файл с разширение .ехе) се получава след свързване на обектните файлове (**Linking**).

За да се възполваме максимално от разделната компилация, разделяме класовете на **.h** и **.cpp** файлове. Навсякъде където ще работим с класа, ще включваме **само .h файла.** По този начин, ако променим реализацията на някоя от функциите на класа, ще се **прекомпилира само този файл**.

![enter image description here](https://i.ibb.co/N9RnMHv/sss.png)

## Копиращ конструктор и оператор =
Заедно с конструктора по подразбиране и деструктора във всеки клас се дефинират и следните член-функции:
 -  Копиращ конструктор - конструктор, който приема обект от същия клас и създава новият обект като негово копие.
 - Оператор= - функция/оператор, който приема  обект от същия клас и променя данните на съществуващ обект от същия клас (обектът от който извикваме функцията.

**Забележка:** Копиращият конструктор създава нов обект, а оператор= модифицира вече съществуващ такъв!

 ```c++

#include <iostream>

using namespace std;

struct Test 
{

	Test()
	{
	cout << "Default constructor" <<endl;
	}

	Test(const Test& other)
	{
	cout << "Copy constructor" <<endl;
	}

	Test& operator=(const Test& other)
	{
	cout << "operator=" <<endl;
	}

	~Test()
	{
	cout << "Destructor" <<endl;
	}
};

void f(Test object)
{
	//do Stuff
}


void g(Test& object)
{
	//do Stuff
}
int main()
{
    Test t; //Default constructor;
	
    Test t2(t)  // Copy constructor
    Test t3(t2) // Copy constructor	
    t2 = t3 // operator=
    t3 = t //  operator=
    
    Test newTest = t; //Copy constructor !!!!!!!
	
    f(t); // Copy constructor	
    g(t); // nothing. We are passing it as a reference. We are not copying it!
    
    Test* ptr = new Test();  // Default constructor // we create a new object in the dynamic memory. The destructor must be invoked explicitly  (with delete)
	
    delete ptr; // Destructor	
	 
} //Destructor Destructor Destructor Destructor
```

**Задача 1:**
Напишете клас, който е за работа със събитие. Събитието се характеризира с име (низ до 20 символа), дата, начален час и краен час.


**Задача 2:**
Напишете клас за работа с колекция от събития (най-много 20). Трябва да имате:
 - Добавяне на събитие.
 - Намиране на най-дългото събитие.
 - Приемане на дата и връщане на максималния брой събития, които може да се посетят в този ден. (за да се посетят 2 събития, те трябва да не се пресичат).
 - Премахване на събитие по име.
